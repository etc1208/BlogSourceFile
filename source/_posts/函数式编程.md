---
title: 函数式编程
date: 2016-07-06 11:02:29
tags: [函数式编程]
---

"函数式编程"是一种"编程范式"，也就是如何编写程序的方法论。主要思想是把运算过程尽量写成一系列嵌套的函数调用。
![函数式编程](http://i.imgur.com/23QUq2F.jpg)

<!--more-->

# 特点 

## 1. 函数是"第一等公民" ##

函数与其他数据类型一样，处于平等地位，可以赋值给其他变量，也可以作为参数，传入另一个函数，或者作为别的函数的返回值。

举例来说，下面代码中的print变量就是一个函数，可以作为另一个函数的参数。
　　

	var print = function(i){ console.log(i);};
	[1,2,3].forEach(print);


## 2. 没有"副作用" ##
函数式编程强调没有"副作用"，意味着函数要保持独立，所有功能就是返回一个新的值，没有其他行为，尤其是不得修改外部变量的值。

## 3. 引用透明 ##
引用透明，指的是函数的运行不依赖于外部变量或"状态"，只依赖于输入的参数，任何时候只要参数相同，引用函数所得到的返回值总是相同的。


----------
# 意义 #




- 代码简洁，开发快速

- 接近自然语言，易于理解

函数式编程的自由度很高，可以写出很接近自然语言的代码。

将表达式(1 + 2) * 3 - 4，写成函数式语言：

	subtract(multiply(add(1,2), 3), 4)

对它进行变形，不难得到另一种写法：

	add(1,2).multiply(3).subtract(4)
这基本就是自然语言的表达了。再看下面的代码，大家应该一眼就能明白它的意思

	merge([1,2],[3,4]).sort().search("2")
因此，函数式编程的代码更容易理解。

- 更方便的代码管理

函数式编程不依赖、也不会改变外界的状态，只要给定输入参数，返回的结果必定相同。因此，每一个函数都可以被看做独立单元，很有利于进行单元测试和除错，以及模块化组合。


- 易于"并发编程"

函数式编程不需要考虑"死锁"，因为它不修改变量，所以根本不存在"锁"线程的问题。不必担心一个线程的数据，被另一个线程修改，所以可以很放心地把工作分摊到多个线程，部署"并发编程"。
请看下面的代码：

	var s1 = Op1();
	var s2 = Op2();
	var s3 = concat(s1, s2);

由于s1和s2互不干扰，不会修改变量，谁先执行是无所谓的，所以可以放心地增加线程，把它们分配在两个线程上完成。其他类型的语言就做不到这一点，因为s1可能会修改系统状态，而s2可能会用到这些状态，所以必须保证s2在s1之后运行，自然也就不能部署到其他线程上了。

- 代码的热升级

函数式编程没有副作用，只要保证接口不变，内部实现是外部无关的。所以，可以在运行状态下直接升级代码，不需要重启，也不需要停机。